{"ast":null,"code":"var _jsxFileName = \"/Users/georgehart/Documents/WebDev/MyProjects/hamtiltonharttech/frontend/src/pages/NoteDetailPage.js\";\nimport React, { useState } from \"react\";\nimport { navigate } from \"@reach/router\";\nimport { makeStyles, Typography, Paper, Button, ClickAwayListener } from \"@material-ui/core\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { NOTE_QUERY, DELETE_NOTE, NOTES_QUERY } from \"../gql\";\nimport { useToggle } from \"../utilities\";\nimport { EditNote } from \"../components/Notes\";\nconst useStyles = makeStyles(theme => ({\n  subheading: {\n    padding: theme.spacing(2),\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    backgroundColor: theme.palette.primary.main\n  },\n  noteContainer: {\n    maxWidth: \"800px\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\"\n  },\n  button: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2)\n  }\n}));\nexport const NoteDetailPage = ({\n  noteId\n}) => {\n  const [currentId, setCurrentId] = useState(noteId);\n  const [deleteActive, setDeleteActive] = useState(false);\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(NOTE_QUERY, {\n    variables: {\n      id: currentId\n    }\n  });\n  const [deleteNote, {\n    error: deleteError\n  }] = useMutation(DELETE_NOTE);\n  const {\n    on: editOn,\n    toggle: editToggle\n  } = useToggle();\n\n  const ReactMarkdown = require(\"react-markdown\");\n\n  const classes = useStyles();\n\n  const handleDelete = e => {\n    e.preventDefault();\n    deleteNote({\n      variables: {\n        id: currentId\n      },\n      refetchQueries: [{\n        query: NOTES_QUERY\n      }],\n      onCompleted: onDeleteCompleted\n    });\n  };\n\n  const onDeleteCompleted = () => {\n    console.log(\"Delete Completed\");\n    navigate(\"/\");\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, loading && /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }\n  }, \"Loading...\"), error && /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, error.message), data && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h3\",\n    align: \"center\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, `${data.note.title}`), !editOn && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.subheading,\n    variant: \"subtitle1\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, data.note.summary), /*#__PURE__*/React.createElement(Paper, {\n    className: classes.noteContainer,\n    elevation: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ReactMarkdown, {\n    source: data.note.bodyText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }), !deleteActive && /*#__PURE__*/React.createElement(Button, {\n    className: classes.button,\n    size: \"large\",\n    variant: \"outlined\",\n    color: \"error\",\n    onClick: () => setDeleteActive(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 19\n    }\n  }, \"Delete\"), deleteActive && /*#__PURE__*/React.createElement(ClickAwayListener, {\n    onClickAway: () => setDeleteActive(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: classes.button,\n    size: \"large\",\n    color: \"warning\",\n    variant: \"contained\",\n    onClick: e => handleDelete(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, \"Delete\")), /*#__PURE__*/React.createElement(Button, {\n    className: classes.button,\n    color: \"primary\",\n    variant: \"outlined\",\n    size: \"large\",\n    onClick: editToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, \"Edit\"))), editOn && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EditNote, {\n    note: data.note,\n    toggle: editToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }))));\n};","map":{"version":3,"sources":["/Users/georgehart/Documents/WebDev/MyProjects/hamtiltonharttech/frontend/src/pages/NoteDetailPage.js"],"names":["React","useState","navigate","makeStyles","Typography","Paper","Button","ClickAwayListener","useQuery","useMutation","NOTE_QUERY","DELETE_NOTE","NOTES_QUERY","useToggle","EditNote","useStyles","theme","subheading","padding","spacing","marginTop","marginBottom","backgroundColor","palette","primary","main","noteContainer","maxWidth","marginLeft","marginRight","button","NoteDetailPage","noteId","currentId","setCurrentId","deleteActive","setDeleteActive","data","loading","error","variables","id","deleteNote","deleteError","on","editOn","toggle","editToggle","ReactMarkdown","require","classes","handleDelete","e","preventDefault","refetchQueries","query","onCompleted","onDeleteCompleted","console","log","message","note","title","summary","bodyText"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { navigate } from \"@reach/router\";\nimport {\n  makeStyles,\n  Typography,\n  Paper,\n  Button,\n  ClickAwayListener\n} from \"@material-ui/core\";\n\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { NOTE_QUERY, DELETE_NOTE, NOTES_QUERY } from \"../gql\";\nimport { useToggle } from \"../utilities\";\nimport { EditNote } from \"../components/Notes\";\n\nconst useStyles = makeStyles(theme => ({\n  subheading: {\n    padding: theme.spacing(2),\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    backgroundColor: theme.palette.primary.main\n  },\n  noteContainer: {\n    maxWidth: \"800px\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\"\n  },\n  button: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2)\n  }\n}));\n\nexport const NoteDetailPage = ({ noteId }) => {\n  const [currentId, setCurrentId] = useState(noteId);\n  const [deleteActive, setDeleteActive] = useState(false);\n\n  const { data, loading, error } = useQuery(NOTE_QUERY, {\n    variables: { id: currentId }\n  });\n\n  const [deleteNote, { error: deleteError }] = useMutation(DELETE_NOTE);\n\n  const { on: editOn, toggle: editToggle } = useToggle();\n\n  const ReactMarkdown = require(\"react-markdown\");\n  const classes = useStyles();\n\n  const handleDelete = e => {\n    e.preventDefault();\n    deleteNote({\n      variables: { id: currentId },\n      refetchQueries: [{ query: NOTES_QUERY }],\n      onCompleted: onDeleteCompleted\n    });\n  };\n\n  const onDeleteCompleted = () => {\n    console.log(\"Delete Completed\");\n    navigate(\"/\");\n  };\n\n  return (\n    <>\n      {loading && <h1>Loading...</h1>}\n      {error && <h3>{error.message}</h3>}\n      {data && (\n        <>\n          <Typography variant=\"h3\" align=\"center\" gutterBottom>\n            {`${data.note.title}`}\n          </Typography>\n          {!editOn && (\n            <>\n              <Typography\n                className={classes.subheading}\n                variant=\"subtitle1\"\n                align=\"center\"\n              >\n                {data.note.summary}\n              </Typography>\n              <Paper className={classes.noteContainer} elevation={0}>\n                <ReactMarkdown source={data.note.bodyText} />\n                {!deleteActive && (\n                  <Button\n                    className={classes.button}\n                    size=\"large\"\n                    variant=\"outlined\"\n                    color=\"error\"\n                    onClick={() => setDeleteActive(true)}\n                  >\n                    Delete\n                  </Button>\n                )}\n                {deleteActive && (\n                  <ClickAwayListener onClickAway={() => setDeleteActive(false)}>\n                    <Button\n                      className={classes.button}\n                      size=\"large\"\n                      color=\"warning\"\n                      variant=\"contained\"\n                      onClick={e => handleDelete(e)}\n                    >\n                      Delete\n                    </Button>\n                  </ClickAwayListener>\n                )}\n                <Button\n                  className={classes.button}\n                  color=\"primary\"\n                  variant=\"outlined\"\n                  size=\"large\"\n                  onClick={editToggle}\n                >\n                  Edit\n                </Button>\n              </Paper>\n            </>\n          )}\n          {editOn && (\n            <>\n              <EditNote note={data.note} toggle={editToggle} />\n            </>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}